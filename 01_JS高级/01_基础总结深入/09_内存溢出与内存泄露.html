<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>02_内存溢出与内存泄露</title>
</head>
<body>

<!--
1. 内存溢出
  * 一种程序运行出现的错误
  * 当程序运行需要的内存超过了剩余的内存时, 就出抛出内存溢出的错误
2. 内存泄露
  * 占用的内存没有及时释放
  * 内存泄露积累多了就容易导致内存溢出
  * 常见的内存泄露:
    * 意外的全局变量
    * 没有及时清理的计时器或回调函数
    * 闭包
-->

<script type="text/javascript">
  /*
    内存溢出：当程序运行需要的内存超过了剩余的内存时, 就出抛出内存溢出的错误
   */
  var arr = [];

  for (var i = 0; i < 1000000000; i++) {
    arr[i] = new Array(10000);
  }

  /*
    内存泄漏：没有及时清理的变量（变量没有用了）
   */

  //及时清除定时器
  setInterval(function () {
    console.log('1111');
  }, 1000)


  function fn() {
    //全局变量
    a = 123;
  }

  fn();
  //不用的对象（函数、数组），手动置为null
  fn = null;



</script>
</body>
</html>