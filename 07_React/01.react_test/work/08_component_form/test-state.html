<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>09_form</title>
</head>
<body>
<div id="example"></div>

<script type="text/javascript" src="../js/react.development.js"></script>
<script type="text/javascript" src="../js/react-dom.development.js"></script>
<script type="text/javascript" src="../js/babel.min.js"></script>
<script type="text/babel">
  /*
  需求: 自定义包含表单的组件
    1. 界面如下所示
    2. 输入用户名密码后, 点击登陆提示输入信息
    3. 不提交表单
  */

  class Form extends React.Component {
    state = {
      username: '',
      pwd: ''
    }

    handleLogin = (ev) => {
      //禁止默认行为
      ev.preventDefault();
      //获取状态数据
      const {username, pwd} = this.state;
      //发送请求
      alert(`用户名：${username}  密码：${pwd}`);
    }

    handleUserNameChange = ev => {
      //获取用户的输入
      const value = ev.target.value.trim();
      //更新状态
      this.setState({
        username: value
      })
    }

    handlePwdChange = ev => {
      //获取用户的输入
      const value = ev.target.value.trim();
      //更新状态
      this.setState({
        pwd: value
      })
    }

    render () {
      //获取状态值
      const {username, pwd} = this.state;
      return (
        <form action="/xxx" method="get">
          用户名： <input type="text" value={username} onChange={this.handleUserNameChange}/>
          密码： <input type="password" value={pwd} onChange={this.handlePwdChange}/>
          <input type="submit" value="登录" onClick={this.handleLogin}/>
        </form>
      )
    }
  }

  ReactDOM.render(<Form />, document.getElementById('example'));
</script>
</body>
</html>
